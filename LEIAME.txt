Servidor Web Mapache (Mock do Apache)
=====================================

Esse e um servidor web desenvolvido para uma atividade academica da disciplina MAC5910 no IME/USP

Foram implementado unicamente os comandos:
- OPTIONS
- POST
- GET

O codigo esta disponivel no repositorio git do Github no seguinte endereco:
https://github.com/mscs-usp/mac5910-webserver

Nesse projeto foi utilizado tambem o servico de integracao continua Travis.
Resultados do build podem ser verificados no seguinte endereco:
https://api.travis-ci.org/mscs-usp/mac5910-webserver

NOTA: Nao foram implementados as respostas ETag nem Accept-Ranges, conforme
foi especificado explicitamente para nao ser feito no forum do PACA.
    ETag: "57f9-1ee-4e580516c6b08"
    Accept-Ranges: bytes

Autores:
- Albert De La Fuente
- Renan De Melo


Como compilar:
--------------
Execute no shell o seguinte comando:

make

Ele criara na pasta ./bin o binario "mapache".

Nota:
Foi incluida informacao de debug no processo de compilacao para poder usar gdb durante o desenvolvimento.


Como executar:
--------------
O servidor pode ser executado com a seguinte linha de comandos no shell:

make run
ou
./run.sh

Se for executar o servidor pela linha de comandos, o mesmo deve ser executado desde dentro da pasta bin.
Qualquer execusao de fora ou com rotas relativas pode dar erro pois a referencia da pasta htdocs esta
configurada de forma explicita no codigo.


Onde colocar o conteudo:
------------------------
O home do servidor (htdocs) e a pasta web


Como testar:
------------
Na pasta responses incluiram-se dois scripts. O script server-dump.sh
gera um dump do servidor, chamada:
./server-dump.sh 80 apache.txt

O script dump.sh nao e mais do que uma chamada duas vezes a esse script,
so mudando a porta e o nome do arquivo resultante, chamando o kdiff3 no
final para verificar os resultados.


Estrutura dos arquivos:
-----------------------
.
├── bin						Diretorio com o arquivo executavel
│   └── mapache
├── ep1.pdf					Enunciado
├── LEIAME.txt					Esse arquivo
├── Makefile
├── obj						Diretorio onde sao guardados os arquivos .o
├── README.rst					Readme do github
├── responses					Diretorio de dumps do apache e do mapache e o diff
│   ├── apache.txt				Dump do GET, POST, OPTIONS do mapache
│   ├── compare.diff				Diff do apache.txt vs mapache.txt
│   ├── dump.sh					Script de testes dos dumps usando kdiff3
│   ├── mapache.txt				Dump do GET, POST, OPTIONS do mapache
│   └── server-dump.sh				Script auxiliar
├── run.sh
├── src						Diretorio com o codigo fonte
│   └── mapache.c
├── tarball.sh					Script para criar o tarball no formato requerido
├── traces					Diretorio com capturas do Wireshark
│   ├── apache-post-wireshark.trace		Nosso trace do POST no apache
│   ├── ep1-existe-wireshark.trace
│   ├── ep1-naoexiste-wireshark.trace
│   └── ep1-options-wireshark.trace
└── web
    ├── exemplos
    │   ├── exemplo_get.txt
    │   ├── exemplos-http.txt			Exemplos de requisicoes e respostas
    ├── imagens
    │   └── logoIME.png
    ├── index.html				Exemplo de index.html
    ├── outro.html				Exemplo alternativo de html
    └── post.html				Exemplo de formulario web usando post


Outros targets do Makefile:
---------------------------

make clean					Limpa os .o
make remove					Apaga o conteudo de ./bin
make kill					Mata o webserver caso esteja sendo executado
make run					Inicia o servidor na porta 8000 (run.sh)